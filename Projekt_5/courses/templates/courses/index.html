{% extends "courses/layout.html" %}
{% load static %}

{% block main %}
    <main>
        <!--? slider Area Start-->
        <section class="slider-area ">
            <div class="slider-active">
                <!-- Single Slider -->
                <div class="single-slider slider-height d-flex align-items-center">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-6 col-lg-7 col-md-12">
                                <div class="hero__caption">
                                    <h1 data-animation="fadeInLeft" data-delay="0.2s">Online learning<br> platform</h1>
                                    <p data-animation="fadeInLeft" data-delay="0.4s">Build skills with courses, certificates, and degrees online from world-class universities and companies</p>
                                    {% if request.user.is_authenticated %}
                                        <a href="{% url 'courses' 'Enrolled' %}" class="btn hero-btn" data-animation="fadeInLeft" data-delay="0.7s">View Enrolled Courses</a>
                                    {% else %}
                                        <a href="{% url 'register' %}" class="btn hero-btn" data-animation="fadeInLeft" data-delay="0.7s">Join for Free</a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>          
                </div>
            </div>
        </section>
        <!-- ? services-area -->
        <div class="services-area">
            <div class="container">
                <div class="row justify-content-sm-center">
                    <div class="col-lg-4 col-md-6 col-sm-8">
                        <div class="single-services mb-30 border border-secondary">
                            <div class="features-icon">
                                <img src="{% static 'courses/img/icon/icon1.svg' %}" alt="">
                            </div>
                            <div class="features-caption">
                                <h3>60+ UX courses</h3>
                                <p>The automated process all your website tasks.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-8">
                        <div class="single-services mb-30 border border-secondary">
                            <div class="features-icon">
                                
                                <img src="{% static 'courses/img/icon/icon2.svg' %}" alt="">
                            </div>
                            <div class="features-caption">
                                <h3>Expert instructors</h3>
                                <p>The automated process all your website tasks.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-8">
                        <div class="single-services mb-30 border border-secondary">
                            <div class="features-icon">
                                <img src="{% static 'courses/img/icon/icon3.svg' %}" alt="">
                            </div>
                            <div class="features-caption">
                                <h3>Life time access</h3>
                                <p>The automated process all your website tasks.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Courses area start -->
        <div class="courses-area section-padding40 fix">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-7 col-lg-8">
                        <div class="section-tittle text-center mb-55">
                            <h2>Our featured courses</h2>
                        </div>
                    </div>
                </div>
                <div class="courses-actives">
                    {% for course in topCourses %}
                        <div class="properties properties2 pb-20">
                            <div class="properties__card">
                                <div class="properties__img overlay1">
                                        <a href="{% url 'course_details' course.id %}"><img src="{{ course.image }}" width="200" height="200"></a>
                                </div>
                                <div class="properties__caption">
                                    <p> {{ course.topic }}</p>
                                    <h3><a href="{% url 'course_details' course.id %}">{{ course.title }}</a></h3>
                                    <p class="my-5 "><i class="fas fa-language mr-3"></i><strong>Langauge:</strong>  {{ course.language }}
                                        <br><i class="fas fa-certificate mr-4"></i><strong>Level:</strong>  {{ course.level }}</p>
                                    <div class="properties__footer d-flex justify-content-between align-items-center">
                                        <div class="restaurant-name">
                                            <div class="rating">
                                                {% with num_stars=course.avg_rating|floatformat:"0"|default:0 %}
                                                    <!-- Empty Stars if not rated -->
                                                    {% if num_stars == 0 %}
                                                        {% with ''|center:5 as range %}
                                                            {% for _ in range %}
                                                                <i class="far fa-star"></i>
                                                            {% endfor %}
                                                        {% endwith %}
                                                    {% endif %}
                                                    <!-- Full Stars -->
                                                    {% with ''|center:num_stars as range %}
                                                        {% for _ in range %}
                                                            <i class="fas fa-star"></i>
                                                        {% endfor %}
                                                    {% endwith %}
                                                {% endwith %}
                                            </div>
                                            <p> 
                                                {% if course.avg_rating %}
                                                    <span><strong>({{ course.avg_rating|floatformat:"2" }})</strong></span> based on {{ course.num_ratings }}
                                                {% else %}
                                                    Not rated yet.
                                                {% endif %}
                                            </p>
                                        </div>
                                        <div class="price">
                                            <span>${{ course.price }}</span>
                                        </div>
                                    </div>
                                    <a href="{% url 'course_details' course.id %}" class="border-btn border-btn2">Find out more</a>
                                </div>

                            </div>
                        </div>
                    {% endfor %}

                </div>
            </div>
        </div>
        <!-- Courses area End -->
        <!--? About Area-1 Start -->
        <section class="about-area1 fix pt-10">
            <div class="support-wrapper align-items-center justify-content-center mx-auto">
                <div class="left-content1 mr-4">
                    <div class="about-icon">
                        <img src="{% static 'courses//img/icon/about.svg' %}" alt="">
                    </div>
                    <!-- section tittle -->
                    <div class="section-tittle section-tittle2 mb-55">
                        <div class="front-text">
                            <h2 class="">Learn new skills online with top educators</h2>
                            <p>Apply what you learn with self-paced quizzes and hands-on projects. 
                                Get feedback from your instructor and join a global community of learners.</p>
                        </div>
                    </div>
                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Join millions of people from around the world learning together. Online learning is as easy and natural.</p>
                        </div>
                    </div>
                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Earn a certificate or degree from a leading university in business, computer science, and more.</p>
                        </div>
                    </div>

                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Upskill your organization with on-demand training and development programs.</p>
                        </div>
                    </div>
                </div>
                <div class="right-content1 pt-5">
                    <!-- img -->
                    <div class="right-img border border-secondary">
                        <img src="{% static 'courses/img/gallery/certificate.png' %}" alt="">
                    </div>
                </div>
            </div>
        </section>
        <!-- About Area End -->
        <!--? top subjects Area Start -->
        <div class="topic-area section-padding40">
            <div class="container-fluid w-75">
                <div class="row justify-content-center">
                    <div class="col-xl-7 col-lg-8">
                        <div class="section-tittle text-center mb-55">
                            <h2>Explore top subjects</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    {% for topic in topics %}
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="single-topic text-center mb-30 ">
                            <div class="topic-img">
                                {% with 'courses/img/gallery/'|add:topic|add:'.png' as imgpath %}
                                    <img src="{% static imgpath %}" alt="">
                                {% endwith %}
                                <div class="topic-content-box">
                                    <div class="topic-content">
                                        <h3><a href="{% url 'courses' topic %}">{{ topic }}</a></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- top subjects End -->
        <!-- About Area 2 Start -->
        <section class="about-area1 fix pt-10">
            <div class="support-wrapper align-items-center justify-content-center mx-auto">
                <!-- img -->
                <div class="right-content1">
                    <div class="right-img">
                        <img src="{% static 'courses/img/gallery/about3.png' %}" alt="">
                    </div>
                </div>
                
                <div class="left-content1 mx-5 mt-5">
                    <!-- section tittle -->
                    <div class="section-tittle section-tittle2 mb-55">
                        <div class="front-text">
                            <h2>World-class learning for anyone, anywhere</h2>
                        </div>
                    </div>
                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Learn from leading universities and companies</p>
                        </div>
                    </div>
                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Choose from many flexible and affordable courses at a breakthrough price. Learn at your own pace, 100% online.</p>
                        </div>
                    </div>

                    <div class="single-features">
                        <div class="features-icon">
                            <img src="{% static 'courses/img/icon/right-icon.svg' %}" alt="">
                        </div>
                        <div class="features-caption">
                            <p>Demonstrate your new skills by sharing your Course Certificate with your network.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- About Area 2 End -->
        <!--? Team -->
        <section class="team-area section-padding40 fix">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-7 col-lg-8">
                        <div class="section-tittle text-center mb-55">
                            <h2>Community experts</h2>
                        </div>
                    </div>
                </div>
                <div class="team-active">
                    <div class="single-cat text-center">
                        <div class="cat-icon">
                            <img src="{% static 'courses/img/gallery/team1.png' %}" alt="">
                        </div>
                        <div class="cat-cap">
                            <h5><a href="services.html">Brian Yu</a></h5>
                            <p>Senior Preceptor in Computer Science at Harvard University</p>
                        </div>
                    </div>
                    <div class="single-cat text-center">
                        <div class="cat-icon">
                            <img src="{% static 'courses/img/gallery/team2.png' %}" alt="">
                        </div>
                        <div class="cat-cap">
                            <h5><a href="services.html">Kathrin J. Malan</a></h5>
                            <p>Gordon McKay Professor of the Practice of Computer Science at Harvard University</p>
                        </div>
                    </div>
                    <div class="single-cat text-center">
                        <div class="cat-icon">
                            <img src="{% static 'courses/img/gallery/team3.png' %}" alt="">
                        </div>
                        <div class="cat-cap">
                            <h5><a href="services.html">Sean Rinn</a></h5>
                            <p>Senior Content Development Manager Microsoft</p>
                        </div>
                    </div>
                    <div class="single-cat text-center">
                        <div class="cat-icon">
                            <img src="{% static 'courses/img/gallery/team4.png' %}" alt="">
                        </div>
                        <div class="cat-cap">
                            <h5><a href="services.html">Nicole Hoffsman</a></h5>
                            <p>Senior Technical Trainer Amazon Web Services</p>
                        </div>
                    </div>
                    <div class="single-cat text-center">
                        <div class="cat-icon">
                            <img src="{% static 'courses/img/gallery/team5.png' %}" alt="">
                        </div>
                        <div class="cat-cap">
                            <h5><a href="services.html">Daniel Wolfenzon</a></h5>
                            <p>Professor of Finance and Economics, Columbia Business School</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Services End -->

        <!-- About Area 2 Start -->
        <section class="about-area1 fix pt-10 mb-55">
            <div class="support-wrapper align-items-center justify-content-center mx-auto">
                <!-- img -->
                <div class="right-content1">
                    <div class="right-img">
                        <img src="{% static 'courses/img/gallery/about.png' %}" alt="">
                    </div>
                </div>
                
                <div class="left-content1 mx-5 mt-55">
                    <!-- section tittle -->
                    <div class="section-tittle section-tittle2">
                        <div class="front-text">
                            <h2 class="">Take the next step toward your <br> 
                                personal and professional <br> goals with us.</h2>
                            <p>Join now to receive personalized recommendations from the full Coursily catalog.</p>
                            <a href="{% url 'register' %}" class="btn">Join now for Free</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- About Area 2 End -->


        <!--? About Area-2 Start -->

        <!-- About Area End -->
    </main>
{% endblock %}